<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: What is so special about 2*MSL?</TITLE>
<META NAME="Author" CONTENT="Ramesh Shankar (RSHANKAR@novell.com)">
<META NAME="Subject" CONTENT="What is so special about 2*MSL?">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>What is so special about 2*MSL?</H1>
<!-- received="Mon May 22 21:19:10 2000" -->
<!-- isoreceived="20000523011910" -->
<!-- sent="Mon, 22 May 2000 17:45:23 -0600" -->
<!-- isosent="20000522234523" -->
<!-- name="Ramesh Shankar" -->
<!-- email="RSHANKAR@novell.com" -->
<!-- subject="What is so special about 2*MSL?" -->
<!-- id="s9297239.083@prv-mail20.provo.novell.com" -->
<STRONG>From:</STRONG> Ramesh Shankar (<A HREF="mailto:RSHANKAR@novell.com?Subject=Re:%20What%20is%20so%20special%20about%202*MSL?&In-Reply-To=&lt;s9297239.083@prv-mail20.provo.novell.com&gt;"><EM>RSHANKAR@novell.com</EM></A>)<BR>
<STRONG>Date:</STRONG> Mon May 22 2000 - 19:45:23 EDT
<P>
<!-- next="start" -->
<UL>
<LI><STRONG>Next message:</STRONG> <A HREF="2087.html">Jan Koum: "Re: Slow start question ..."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2085.html">Ramesh Shankar: "Any successor to the sockets APIs ???"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2086">[ date ]</A>
<A HREF="index.html#2086">[ thread ]</A>
<A HREF="subject.html#2086">[ subject ]</A>
<A HREF="author.html#2086">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
It is not very clear to me what is the purpose of selecting 2*MSL to be the duration a connection which has performed active close has to be in the TIME_WAIT state instead of MSL.
<BR>
<P>TIME_WAIT serves two different purposes:
<BR>
<P>1. Rejection old duplicates of a connection from previous incarnation(s).
<BR>
2. Retransmission of last ACK if ACK sent during connection close got lost. This ensures reliable connection close.
<BR>
<P>If we were to consider 1, then it is quite clear that waiting for 1 MSL is more than enough for old duplicates to die off.
<BR>
<P>Now, 2 really depends on the RTT of the connection. If one imagines that it takes 1MSL (i.e. extreme case) for our ACK to reach peer, then in the case our ACK does get lost, by the time the peer retransmits the FIN, we would have anyway exited the TIME_WAIT state. RFC 1185, Appendix A has some insight into the details of the choice, but doesn't go far enough to tell why 2MSL and why not 1MSL or 1.5 MSL etc.
<BR>
<P>I am pretty sure that there is some historical reason also associated with the choice of this specific value. Some of the references of Appendix A of RFC 1185 are probably very hard to get now (Any idea how I can get them)?
<BR>
<P>May be the answer is simple like: Be paranoid and wait for more than 1 MSL and it is easy to implement 2 * MSL in programming rather than 1.75 * MSL :-))).
<BR>
<P>Thanks in advance,
<BR>
<P>S.R.
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2087.html">Jan Koum: "Re: Slow start question ..."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2085.html">Ramesh Shankar: "Any successor to the sockets APIs ???"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2086">[ date ]</A>
<A HREF="index.html#2086">[ thread ]</A>
<A HREF="subject.html#2086">[ subject ]</A>
<A HREF="author.html#2086">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Tue Sep 19 2000 - 11:54:26 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
