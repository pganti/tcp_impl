<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: Re: Last Call for draft-floyd-in</TITLE>
<META NAME="Author" CONTENT="Vernon Schryver (vjs@calcite.rhyolite.com)">
<META NAME="Subject" CONTENT="Re: Last Call for draft-floyd-incr-init-win-02.txt">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>Re: Last Call for draft-floyd-incr-init-win-02.txt</H1>
<!-- received="Fri Apr 24 08:32:35 1998" -->
<!-- isoreceived="19980424123235" -->
<!-- sent="Fri, 24 Apr 1998 09:18:42 -0600 (MDT)" -->
<!-- isosent="19980424151842" -->
<!-- name="Vernon Schryver" -->
<!-- email="vjs@calcite.rhyolite.com" -->
<!-- subject="Re: Last Call for draft-floyd-incr-init-win-02.txt" -->
<!-- id="199804241518.JAA00636@calcite.rhyolite.com" -->
<!-- inreplyto="Last Call for draft-floyd-incr-init-win-02.txt" -->
<STRONG>From:</STRONG> Vernon Schryver (<A HREF="mailto:vjs@calcite.rhyolite.com?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;"><EM>vjs@calcite.rhyolite.com</EM></A>)<BR>
<STRONG>Date:</STRONG> Fri Apr 24 1998 - 11:18:42 EDT
<P>
<!-- next="start" -->
<UL>
<LI><STRONG>Next message:</STRONG> <A HREF="1107.html">Scott Lawrence: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="1105.html">Alan Cox: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="1072.html">Vern Paxson: "Last Call for draft-floyd-incr-init-win-02.txt"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="1108.html">Alan Cox: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="1108.html">Alan Cox: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#1106">[ date ]</A>
<A HREF="index.html#1106">[ thread ]</A>
<A HREF="subject.html#1106">[ subject ]</A>
<A HREF="author.html#1106">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
<EM>&gt; From: <A HREF="mailto:alan@lxorguk.ukuu.org.uk?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">alan@lxorguk.ukuu.org.uk</A> (Alan Cox)
</EM><BR>
<EM>&gt; Subject: Re: Last Call for draft-floyd-incr-init-win-02.txt
</EM><BR>
<EM>&gt; To: <A HREF="mailto:vjs@calcite.rhyolite.com?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">vjs@calcite.rhyolite.com</A> (Vernon Schryver)
</EM><BR>
<EM>&gt; Cc: <A HREF="mailto:davem@dm.cobaltmicro.com?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">davem@dm.cobaltmicro.com</A>, <A HREF="mailto:vjs@calcite.rhyolite.com?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">vjs@calcite.rhyolite.com</A>, <A HREF="mailto:craig@aland.bbn.com?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">craig@aland.bbn.com</A>,
</EM><BR>
<EM>&gt;         <A HREF="mailto:mallman@lerc.nasa.gov?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">mallman@lerc.nasa.gov</A>, <A HREF="mailto:sob@harvard.edu?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">sob@harvard.edu</A>, <A HREF="mailto:tcp-impl@cthulhu.engr.sgi.com?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">tcp-impl@cthulhu.engr.sgi.com</A>,
</EM><BR>
<EM>&gt;         <A HREF="mailto:vern@ee.lbl.gov?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">vern@ee.lbl.gov</A>, <A HREF="mailto:vishnu@cs.ucr.edu?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">vishnu@cs.ucr.edu</A>
</EM><BR>
<P><EM>&gt; &gt; be losing 12KBytes given the proposed change, and why wouldn't you make
</EM><BR>
<EM>&gt; &gt; the changes that are obviously necessary regardless of whether the proposal
</EM><BR>
<EM>&gt; &gt; is implemented near you, especially to increase the buffering on the ISP
</EM><BR>
<EM>&gt; &gt; side of your modems to 16KBytes?
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Having 16K of buffering each end of a modem link is really bad.
</EM><BR>
<P>Please notice that I did not write &quot;each end&quot;.  That was not an
<BR>
oversight.
<BR>
<P><EM>&gt;                                                                 On this
</EM><BR>
<EM>&gt; specific one Im completely happy. It screws your interactive/bulk data mix
</EM><BR>
<EM>&gt; unless you reorder small frames over large (which instead fries the current
</EM><BR>
<EM>&gt; tcp assumptions people use).
</EM><BR>
<P>Or unless you use official TOS queuing, or re-order based on peaking
<BR>
at port numbers.  (Of course, however you reorder, I think you want
<BR>
to 'leak' a few of the packets you're prejudiced against.)
<BR>
<P>I disagree with your implication that reordering based on packet size
<BR>
is a Purely Bad Thing.  My (SGI's) PPP and SLIP code did that for many
<BR>
years without any reports of ill effects from customers or observations
<BR>
of bad things by me.  In practice, that mechanism rarely reorders packets in
<BR>
a single stream.  I changed the default setting of the hack only because
<BR>
TOS bit setting became common, and the hack smells bad even if it does
<BR>
no harm.
<BR>
<P>I also disagree with your statement elsewhere that common TCP applications are
<BR>
not setting the TOS bits appropriately.  For half a dozen years at least
<BR>
some major commercial outfits in both UNIX and PC worlds (e.g. FTP Software)
<BR>
have been shipping applications which set the TOS bits.
<BR>
<P><P><EM>&gt;                              It causes capture problems where on bulk
</EM><BR>
<EM>&gt; stream tunes itself to neatly keep the link full jamming other stuff out
</EM><BR>
<EM>&gt; or making it back off really hard.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; These aren't simulations these are hard experience. One thing we have done
</EM><BR>
<EM>&gt; very recently is to lower the buffering to the modems and all the feedback so
</EM><BR>
<EM>&gt; far has been very positive.
</EM><BR>
<EM>&gt; ...
</EM><BR>
<P>I've been yammering about the unhappy interactions among &gt;4K windows,
<BR>
larger buffering in routers, and mixes of fast and slow links for about
<BR>
6 years because of personal experience.  (I'm a 100% telecommuter.)  I
<BR>
have found that it is an administrative hassle to reduce or limit the
<BR>
buffering in all of the routers in all paths I care about.  If you think
<BR>
about it for a little, I hope you'll see why your solution of reducing
<BR>
the buffering in a single router is not sufficient to fix the problems
<BR>
you mention.  I've found a much better solution is to use smaller (2-4K)
<BR>
windows in lots of hosts, although that also has a steep administrative
<BR>
slope.  I've gone so far as to infect popular servers with hacks that
<BR>
notice the domain name of the TCP peer and reduce the window.  Note that
<BR>
I'm also the person who jacked up SGI's default window to 32K ~11 years
<BR>
ago, and then to 60K a few years later to improve high speed LAN
<BR>
throughput.  In WAN sitations, I've been hoist by my own whatever.
<BR>
<P><P>Vernon Schryver    <A HREF="mailto:vjs@rhyolite.com?Subject=Re:%20Last%20Call%20for%20draft-floyd-incr-init-win-02.txt&In-Reply-To=&lt;199804241518.JAA00636@calcite.rhyolite.com&gt;">vjs@rhyolite.com</A>
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="1107.html">Scott Lawrence: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="1105.html">Alan Cox: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="1072.html">Vern Paxson: "Last Call for draft-floyd-incr-init-win-02.txt"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="1108.html">Alan Cox: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="1108.html">Alan Cox: "Re: Last Call for draft-floyd-incr-init-win-02.txt"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#1106">[ date ]</A>
<A HREF="index.html#1106">[ thread ]</A>
<A HREF="subject.html#1106">[ subject ]</A>
<A HREF="author.html#1106">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Tue Sep 19 2000 - 11:52:37 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
