<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: OT 1.1.2 trace -- silly windows</TITLE>
<META NAME="Author" CONTENT="William Allen Simpson (wsimpson@greendragon.com)">
<META NAME="Subject" CONTENT="OT 1.1.2 trace -- silly windows">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>OT 1.1.2 trace -- silly windows</H1>
<!-- received="Wed Mar 26 13:14:27 1997" -->
<!-- isoreceived="19970326181427" -->
<!-- sent="Wed, 26 Mar 97 18:42:45 GMT" -->
<!-- isosent="19970326184245" -->
<!-- name="William Allen Simpson" -->
<!-- email="wsimpson@greendragon.com" -->
<!-- subject="OT 1.1.2 trace -- silly windows" -->
<!-- id="5732.wsimpson@greendragon.com" -->
<STRONG>From:</STRONG> William Allen Simpson (<A HREF="mailto:wsimpson@greendragon.com?Subject=Re:%20OT%201.1.2%20trace%20--%20silly%20windows&In-Reply-To=&lt;5732.wsimpson@greendragon.com&gt;"><EM>wsimpson@greendragon.com</EM></A>)<BR>
<STRONG>Date:</STRONG> Wed Mar 26 1997 - 13:42:45 EST
<P>
<!-- next="start" -->
<UL>
<LI><STRONG>Next message:</STRONG> <A HREF="0267.html">David Borman: "Re: delayed Ack"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0265.html">Alan Cox: "Re: OT 1.1.2 trace"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#266">[ date ]</A>
<A HREF="index.html#266">[ thread ]</A>
<A HREF="subject.html#266">[ subject ]</A>
<A HREF="author.html#266">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
One of the items listed in my trace does not make complete sense on
<BR>
careful examination.  What at first inspection appears to be Silly
<BR>
Window Syndrome (SWS) doesn't add up exactly.
<BR>
<P>For inexplicable reasons, OT sends partial MSS packets even when it has
<BR>
not run out of window.  Yet, it is not due to a PSH.  I conclude this is
<BR>
another form of SWS.
<BR>
<P>packet  size
<BR>
<P>#1 P      31 +              -                -
<BR>
#2      1460 +              -                -
<BR>
<P>#3 P     300 +              +                +
<BR>
#4      1460 +              +                +
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(5840)          (5840)
<BR>
#5      1460 +  4711        +   3220         +
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----            ----
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1129)          (2620)          (5840)
<BR>
#6      1176                                 +  4396
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1444)
<BR>
#7 P     960
<BR>
<P>If I assume that no Acks have been received, then the remaining window
<BR>
at #6 would be 1129 bytes.  Yet, we received 1176.  So, an Ack must have
<BR>
been received.
<BR>
<P>But, the Ack was for #1 and #2 together.  So, 2620 would remain, and we
<BR>
only received 1176.  2620 - 1176 = 1444, more than enough for the 960 to
<BR>
complete the message (end indicated by PSH).
<BR>
<P><P><EM>&gt; *** data packet #6
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Fri Feb 28 22:00:25 1997 - e0 recv:
</EM><BR>
<EM>&gt; Ether: len 1230 00:00:c0:74:36:20-&gt;00:80:c7:5b:e8:a8 type IP
</EM><BR>
<EM>&gt; IP: len 1216 206.31.151.21-&gt;206.31.151.78 ihl 20 ttl 254 DF prot TCP
</EM><BR>
<EM>&gt; TCP: 110-&gt;1024 Seq x8c84c6f9 Ack xcae702c ACK Wnd 17520 Data 1176
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; *** data packet #7
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Fri Feb 28 22:00:25 1997 - e0 recv:
</EM><BR>
<EM>&gt; Ether: len 1014 00:00:c0:74:36:20-&gt;00:80:c7:5b:e8:a8 type IP
</EM><BR>
<EM>&gt; IP: len 1000 206.31.151.21-&gt;206.31.151.78 ihl 20 ttl 254 DF prot TCP
</EM><BR>
<EM>&gt; TCP: 110-&gt;1024 Seq x8c84cb91 Ack xcae702c ACK PSH Wnd 17520 Data 960
</EM><BR>
<EM>&gt;
</EM><BR>
<P><P>#1 P      31
<BR>
#2      1390    1421, but 1 MSS = 1460
<BR>
<P>#3 P     849    2270, but 2 MSS = 2920
<BR>
<P>#4 P       3
<BR>
<P>Again.  Of course, it may be related to the Nagle failure noted before.
<BR>
Nagle also is a fix for SWS.
<BR>
<P>Thus, the windows are &quot;silly&quot;, but not for the usual reasons expected;
<BR>
snd.wnd would be more than enough.  So, perhaps it is an unusual
<BR>
technique of incrementing cwnd, plus SWS.
<BR>
<P><A HREF="mailto:WSimpson@UMich.edu?Subject=Re:%20OT%201.1.2%20trace%20--%20silly%20windows&In-Reply-To=&lt;5732.wsimpson@greendragon.com&gt;">WSimpson@UMich.edu</A>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Key fingerprint =  17 40 5E 67 15 6F 31 26  DD 0D B9 9B 6A 15 2C 32
<BR>
<A HREF="mailto:BSimpson@MorningStar.com?Subject=Re:%20OT%201.1.2%20trace%20--%20silly%20windows&In-Reply-To=&lt;5732.wsimpson@greendragon.com&gt;">BSimpson@MorningStar.com</A>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Key fingerprint =  2E 07 23 03 C5 62 70 D3  59 B1 4F 5E 1D C2 C1 A2
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0267.html">David Borman: "Re: delayed Ack"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0265.html">Alan Cox: "Re: OT 1.1.2 trace"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#266">[ date ]</A>
<A HREF="index.html#266">[ thread ]</A>
<A HREF="subject.html#266">[ subject ]</A>
<A HREF="author.html#266">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Tue Sep 19 2000 - 11:44:12 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
