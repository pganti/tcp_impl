<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: Re: PSH</TITLE>
<META NAME="Author" CONTENT="William Allen Simpson (wsimpson@greendragon.com)">
<META NAME="Subject" CONTENT="Re: PSH">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>Re: PSH</H1>
<!-- received="Tue Mar 25 06:56:52 1997" -->
<!-- isoreceived="19970325115652" -->
<!-- sent="Tue, 25 Mar 97 13:51:52 GMT" -->
<!-- isosent="19970325135152" -->
<!-- name="William Allen Simpson" -->
<!-- email="wsimpson@greendragon.com" -->
<!-- subject="Re: PSH" -->
<!-- id="5718.wsimpson@greendragon.com" -->
<!-- inreplyto="PSH" -->
<STRONG>From:</STRONG> William Allen Simpson (<A HREF="mailto:wsimpson@greendragon.com?Subject=Re:%20PSH&In-Reply-To=&lt;5718.wsimpson@greendragon.com&gt;"><EM>wsimpson@greendragon.com</EM></A>)<BR>
<STRONG>Date:</STRONG> Tue Mar 25 1997 - 08:51:52 EST
<P>
<!-- next="start" -->
<UL>
<LI><STRONG>Next message:</STRONG> <A HREF="0242.html">William Allen Simpson: "Re: OT 1.1.2 trace"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0240.html">Jerry Toporek: "Re: OT 1.1.2 trace"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0248.html">Vern Paxson: "Re: PSH"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#241">[ date ]</A>
<A HREF="index.html#241">[ thread ]</A>
<A HREF="subject.html#241">[ subject ]</A>
<A HREF="author.html#241">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
<EM>&gt; From: <A HREF="mailto:jt@mentat.com?Subject=Re:%20PSH&In-Reply-To=&lt;5718.wsimpson@greendragon.com&gt;">jt@mentat.com</A> (Jerry Toporek)
</EM><BR>
<EM>&gt; As someone who has frequently tried to convince people that you have useful
</EM><BR>
<EM>&gt; things to say, I find much of your response personally offensive, but not
</EM><BR>
<EM>&gt; the least surprising...
</EM><BR>
<EM>&gt;
</EM><BR>
To my memory, we have never met.  Your personal attack affected me in a
<BR>
like manner.  If you want to express umbrage and bandy legalisms, make
<BR>
sure it's backed up by your lawyer.
<BR>
<P><P><EM>&gt; - A simple question on the original topic:  The PSH bit...  Assuming a non-
</EM><BR>
<EM>&gt; broken sender TCP and a non-broken receiver TCP, then what good can be done
</EM><BR>
<EM>&gt; by an application API to set the PSH bit?  Do I understand correctly that you
</EM><BR>
<EM>&gt; believe that such and API is required in order to get around problems in
</EM><BR>
<EM>&gt; broken implementations, or is there something more that you are trying to
</EM><BR>
<EM>&gt; accomplish?
</EM><BR>
<EM>&gt;
</EM><BR>
Looking at the trace I sent, you will note that message 1 packet #3 is
<BR>
shorter than MSS and has the PSH set, while message 2 packet #2 is
<BR>
shorter than MSS and does _not_ have the PSH set.
<BR>
<P>In both cases, this occurs at the CRLF CRLF between the SMTP headers and
<BR>
the body.  Presumably, multiple application calls to the stack.
<BR>
<P>In either case, had the API allowed the application to set PSH, the PSH
<BR>
could be set at the end of the complete message following the body:
<BR>
&nbsp;1) full-size MSS packets could be sent;
<BR>
&nbsp;2) network performance would be better, with fewer packets;
<BR>
&nbsp;3) receiver performance would be better, with fewer task switches.
<BR>
<P>This is a documented case where the lack of a PSH (whether or not the
<BR>
sender TCP implementation is also faulty) caused additional network
<BR>
packet load and concomitant additional retransmissions.
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0242.html">William Allen Simpson: "Re: OT 1.1.2 trace"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0240.html">Jerry Toporek: "Re: OT 1.1.2 trace"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0248.html">Vern Paxson: "Re: PSH"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#241">[ date ]</A>
<A HREF="index.html#241">[ thread ]</A>
<A HREF="subject.html#241">[ subject ]</A>
<A HREF="author.html#241">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Tue Sep 19 2000 - 11:44:10 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
