<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: Threshold/rate halving in Linux</TITLE>
<META NAME="Author" CONTENT="Bert Van Lee (bertvanlee@hotmail.com)">
<META NAME="Subject" CONTENT="Threshold/rate halving in Linux TCP">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>Threshold/rate halving in Linux TCP</H1>
<!-- received="Wed May  9 17:42:53 2001" -->
<!-- isoreceived="20010509214253" -->
<!-- sent="Wed, 09 May 2001 21:22:39 " -->
<!-- isosent="20010510012239" -->
<!-- name="Bert Van Lee" -->
<!-- email="bertvanlee@hotmail.com" -->
<!-- subject="Threshold/rate halving in Linux TCP" -->
<!-- id="F18203oHMwVN7miR9Od000014f1@hotmail.com" -->
<STRONG>From:</STRONG> Bert Van Lee (<A HREF="mailto:bertvanlee@hotmail.com?Subject=Re:%20Threshold/rate%20halving%20in%20Linux%20TCP&In-Reply-To=&lt;F18203oHMwVN7miR9Od000014f1@hotmail.com&gt;"><EM>bertvanlee@hotmail.com</EM></A>)<BR>
<STRONG>Date:</STRONG> Wed May 09 2001 - 21:22:39 EDT
<P>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2547.html">Alan Cox: "Re: Threshold/rate halving in Linux TCP"</A>
<UL>
<LI><STRONG>Previous message:</STRONG> <A HREF="2545.html">Constantinos Dovrolis: "ICNP 2001 - Deadline extension"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="2547.html">Alan Cox: "Re: Threshold/rate halving in Linux TCP"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="2550.html">Matt Mathis: "Re: Threshold/rate halving in Linux TCP"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2546">[ date ]</A>
<A HREF="index.html#2546">[ thread ]</A>
<A HREF="subject.html#2546">[ subject ]</A>
<A HREF="author.html#2546">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
Hi,
<BR>
<P>On trying to set up a high-speed connection between two Linux machines A and 
<BR>
B each running kernel 2.4.3 over a 8 Mbit/s link with a RTT of about 640 ms, 
<BR>
I noticed that quite early the TCP sender must have changed to congestion 
<BR>
avoidance. The delay/BW limiting was done using a third Linux machine L with 
<BR>
the Nistnet network emulation software on it. There is a 100 Mbit/s Ethernet 
<BR>
between A and L and between L and B.
<BR>
<P>When the speed reached about 160 kByte/s or 1.3 Mbit/s, the exponential 
<BR>
build-up stopped and the speed increased linearly up till about 7 Mbit/s , 
<BR>
after which the rate was halved to 4 Mbit/s, again linear build up to 7, 
<BR>
halving to 4 etc. The build-up from 4 to 7 takes about 140 SECONDS.
<BR>
<P>I allowed SACK, RTT measurement, Window scaling.
<BR>
<P>Set wmem/rmem params in .../core and .../ipv4. Used default send and recv 
<BR>
buffers of 1 MByte, 2 MByte max. TCPs both report window scaling by 4 bits, 
<BR>
i.e. x16, which is a healthy sign.
<BR>
<P>My questions are:
<BR>
<P>1. where can I specify the threshold for congestion avoidance, as I would 
<BR>
like the transmitting TCP to continue to 8 (or 7 or so...) Mbit/s before 
<BR>
doing so? I could not find any setting in .../core or .../ipv4???
<BR>
<P>2. Can I somehow avoid the rate-halving that supposedly happens because 
<BR>
sstresh is halved, as this is not what I want, since the link is a 8 MByte/s 
<BR>
link and there is no congestion at the other end, just a limitation of 
<BR>
speed.
<BR>
<P>3. Other question: as far as I am concerned the sending TCP may start 
<BR>
blazing at 7 Mbit/s, rather than start with 2 segments only. This appears to 
<BR>
be non-RFC, right? Is there any action started to allow this, e.g. withing 
<BR>
T/TCP which I do not know well?
<BR>
<P>Thank you,
<BR>
<P>Eric Verlind
<BR>
<P>_________________________________________________________________________
<BR>
Get Your Private, Free E-mail from MSN Hotmail at <A HREF="http://www.hotmail.com">http://www.hotmail.com</A>.
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2547.html">Alan Cox: "Re: Threshold/rate halving in Linux TCP"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2545.html">Constantinos Dovrolis: "ICNP 2001 - Deadline extension"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="2547.html">Alan Cox: "Re: Threshold/rate halving in Linux TCP"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="2550.html">Matt Mathis: "Re: Threshold/rate halving in Linux TCP"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2546">[ date ]</A>
<A HREF="index.html#2546">[ thread ]</A>
<A HREF="subject.html#2546">[ subject ]</A>
<A HREF="author.html#2546">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Wed May 09 2001 - 17:43:23 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
