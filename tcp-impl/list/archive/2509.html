<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: Re: initial window size</TITLE>
<META NAME="Author" CONTENT="Mark Allman (mallman@grc.nasa.gov)">
<META NAME="Subject" CONTENT="Re: initial window size">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>Re: initial window size</H1>
<!-- received="Fri Mar 30 09:27:55 2001" -->
<!-- isoreceived="20010330142755" -->
<!-- sent="Fri, 30 Mar 2001 09:19:32 -0500" -->
<!-- isosent="20010330141932" -->
<!-- name="Mark Allman" -->
<!-- email="mallman@grc.nasa.gov" -->
<!-- subject="Re: initial window size" -->
<!-- id="200103301419.JAA13867@guns.lerc.nasa.gov" -->
<!-- inreplyto="initial window size" -->
<STRONG>From:</STRONG> Mark Allman (<A HREF="mailto:mallman@grc.nasa.gov?Subject=Re:%20initial%20window%20size&In-Reply-To=&lt;200103301419.JAA13867@guns.lerc.nasa.gov&gt;"><EM>mallman@grc.nasa.gov</EM></A>)<BR>
<STRONG>Date:</STRONG> Fri Mar 30 2001 - 09:19:32 EST
<P>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2510.html">Mark Allman: "Re: initial window size"</A>
<UL>
<LI><STRONG>Previous message:</STRONG> <A HREF="2508.html">Lloyd Wood: "Re: initial window size"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="2491.html">arun: "initial window size"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2509">[ date ]</A>
<A HREF="index.html#2509">[ thread ]</A>
<A HREF="subject.html#2509">[ subject ]</A>
<A HREF="author.html#2509">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
A couple of comments....
<BR>
<P><P>Oleg Vishnapolsky said:
<BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Practically speaking, most stacks use a hard-wired default (32k or
</EM><BR>
<EM>&gt; 8k or whatever).
</EM><BR>
<P>Yep.  In a study of our web server traffic last year we found that
<BR>
the median advertised window size was roughly 8KB and the average
<BR>
was about 18KB in web clients.  These numbers were essentially
<BR>
invariant over the 18 months of data we examined (I really should
<BR>
crunch the data since the paper, but haven't found the cycles yet).
<BR>
Further, for transfers that sent enough data to open their cwnd to
<BR>
the advertised window we found that 70% were likely performance
<BR>
limited by the advertised window.  So, I agree with Vernon -- crank
<BR>
those default socket buffers up (or, use something like autotuned
<BR>
socket buffers).  More details in:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;Mark Allman. A Web Server's View of the Transport Layer. ACM
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Computer Communication Review, 30(5), October 2000. 
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="http://roland.grc.nasa.gov/~mallman/papers/webobs-ccr.ps">http://roland.grc.nasa.gov/~mallman/papers/webobs-ccr.ps</A>
<BR>
<P><P>Vernon Schryver said:
<BR>
<EM>&gt;
</EM><BR>
<EM>&gt; RFC 2001 says &quot;initialization for a given connection sets cwnd to
</EM><BR>
<EM>&gt; one segment.&quot;
</EM><BR>
<P>RFC 2001 is obsoleted by RFC 2581 -- which allows an initial
<BR>
congestion window of up to 2 segments (up to MSS bytes in each).
<BR>
<P>Sally Floyd and Jitu Padhye have been using tbit to determine what
<BR>
initial cwnd web servers are really using.  You can see their
<BR>
results at: <A HREF="http://www.aciri.org/tbit/">http://www.aciri.org/tbit/</A>
<BR>
<P>allman
<BR>
<P><P><PRE>
---
Mark Allman -- BBN/NASA GRC -- <A HREF="http://roland.grc.nasa.gov/~mallman/">http://roland.grc.nasa.gov/~mallman/</A>
</PRE>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2510.html">Mark Allman: "Re: initial window size"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2508.html">Lloyd Wood: "Re: initial window size"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="2491.html">arun: "initial window size"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2509">[ date ]</A>
<A HREF="index.html#2509">[ thread ]</A>
<A HREF="subject.html#2509">[ subject ]</A>
<A HREF="author.html#2509">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Fri Mar 30 2001 - 09:28:25 EST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
