<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: interesting MSS handling issue</TITLE>
<META NAME="Author" CONTENT="Eric A. Hall (ehall@ehsco.com)">
<META NAME="Subject" CONTENT="interesting MSS handling issue">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>interesting MSS handling issue</H1>
<!-- received="Tue Apr 25 15:44:36 2000" -->
<!-- isoreceived="20000425194436" -->
<!-- sent="Tue, 25 Apr 2000 12:34:28 -0700" -->
<!-- isosent="20000425193428" -->
<!-- name="Eric A. Hall" -->
<!-- email="ehall@ehsco.com" -->
<!-- subject="interesting MSS handling issue" -->
<!-- id="3905F343.C81AF406@ehsco.com" -->
<STRONG>From:</STRONG> Eric A. Hall (<A HREF="mailto:ehall@ehsco.com?Subject=Re:%20interesting%20MSS%20handling%20issue&In-Reply-To=&lt;3905F343.C81AF406@ehsco.com&gt;"><EM>ehall@ehsco.com</EM></A>)<BR>
<STRONG>Date:</STRONG> Tue Apr 25 2000 - 15:34:28 EDT
<P>
<!-- next="start" -->
<UL>
<LI><STRONG>Next message:</STRONG> <A HREF="2074.html">Péter Krémer: "Re: Conformance Testing Tools For TCP/IP"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2072.html">Srinivas Kurla: "Re: Conformance Testing Tools For TCP/IP"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2073">[ date ]</A>
<A HREF="index.html#2073">[ thread ]</A>
<A HREF="subject.html#2073">[ subject ]</A>
<A HREF="author.html#2073">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
Saw an interesting tcpdump between UnixWare 7 and Solaris 7, where the
<BR>
UnixWare host was transmitting segments with 1460-byte payloads, even
<BR>
though timestamp and a couple of noop options were in the TCP headers
<BR>
(resulting in fragmentation). This did not occur with connections
<BR>
between similar UnixWare hosts; in those cases the host sent 1448-byte
<BR>
payloads (leaving room for timestamp and noops).
<BR>
<P>The only thing that shows up different between the UW-Sol and UW-UW
<BR>
connections is that Solaris put the MSS option at the end of the option
<BR>
list, while UW puts it at the beginning:
<BR>
<P>UW7 returns:
<BR>
09:18:38.817464 btstche.bld.cqg.com.shell &gt; bvt.bld.cqg.com.1017: S
<BR>
13303670:13303670(0) ack 2674166220 win 24820 &lt;mss 1460,nop,wscale
<BR>
0,nop,nop,timestamp 5472284 21403787&gt;
<BR>
<P>Solaris returns:
<BR>
09:19:44.222169 bsldev.bld.cqg.com.shell &gt; bvt.bld.cqg.com.1014: S
<BR>
2501322619:2501322619(0) ack 2690620994 win 10136 &lt;nop,nop,timestamp
<BR>
1664310917 21410324,nop,wscale 0,mss 1460&gt; (DF)
<BR>
<P>Possible explanation: UW is processing options linearly, so it is
<BR>
starting with a default MSS, subtracting segment space for options like
<BR>
SACK and timestamp as needed, and then sees MSS of 1460 which overrides
<BR>
the adjustments.
<BR>
<P>Has this happened anywhere else? Has putting MSS at the end of the
<BR>
option list triggered this sort of problem anywhere else, or has UW7
<BR>
shown this problem with other platforms that put MSS somewhere other
<BR>
than at the beginning.
<BR>
<P><PRE>
-- 
Eric A. Hall                                            <A HREF="mailto:ehall@ehsco.com?Subject=Re:%20interesting%20MSS%20handling%20issue&In-Reply-To=&lt;3905F343.C81AF406@ehsco.com&gt;">ehall@ehsco.com</A>
+1-650-685-0557                                    <A HREF="http://www.ehsco.com">http://www.ehsco.com</A>
</PRE>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2074.html">Péter Krémer: "Re: Conformance Testing Tools For TCP/IP"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2072.html">Srinivas Kurla: "Re: Conformance Testing Tools For TCP/IP"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2073">[ date ]</A>
<A HREF="index.html#2073">[ thread ]</A>
<A HREF="subject.html#2073">[ subject ]</A>
<A HREF="author.html#2073">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Tue Sep 19 2000 - 11:54:24 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
