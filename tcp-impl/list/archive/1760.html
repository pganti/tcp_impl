<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: Re: Nagle -- again</TITLE>
<META NAME="Author" CONTENT="Joe Touch (touch@ISI.EDU)">
<META NAME="Subject" CONTENT="Re: Nagle -- again">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>Re: Nagle -- again</H1>
<!-- received="Thu Jun 24 17:07:42 1999" -->
<!-- isoreceived="19990624210742" -->
<!-- sent="Thu, 24 Jun 1999 14:07:18 -0700 (PDT)" -->
<!-- isosent="19990624210718" -->
<!-- name="Joe Touch" -->
<!-- email="touch@ISI.EDU" -->
<!-- subject="Re: Nagle -- again" -->
<!-- id="199906242107.OAA16180@rum.isi.edu" -->
<!-- inreplyto="Nagle -- again" -->
<STRONG>From:</STRONG> Joe Touch (<A HREF="mailto:touch@ISI.EDU?Subject=Re:%20Nagle%20--%20again&In-Reply-To=&lt;199906242107.OAA16180@rum.isi.edu&gt;"><EM>touch@ISI.EDU</EM></A>)<BR>
<STRONG>Date:</STRONG> Thu Jun 24 1999 - 17:07:18 EDT
<P>
<!-- next="start" -->
<UL>
<LI><STRONG>Next message:</STRONG> <A HREF="1761.html">Greg Minshall: "Re: Nagle -- again"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="1759.html">Joe Touch: "Re: Nagle -- again"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="1743.html">Greg Minshall: "Nagle -- again"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="1762.html">Joe Touch: "Re: Nagle -- again"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#1760">[ date ]</A>
<A HREF="index.html#1760">[ thread ]</A>
<A HREF="subject.html#1760">[ subject ]</A>
<A HREF="author.html#1760">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
<EM>&gt; From <A HREF="mailto:owner-tcp-impl@lerc.nasa.gov?Subject=Re:%20Nagle%20--%20again&In-Reply-To=&lt;199906242107.OAA16180@rum.isi.edu&gt;">owner-tcp-impl@lerc.nasa.gov</A> Thu Jun 24 13:44:17 1999
</EM><BR>
<EM>&gt; To: <A HREF="mailto:sm@bossette.engr.sgi.com?Subject=Re:%20Nagle%20--%20again&In-Reply-To=&lt;199906242107.OAA16180@rum.isi.edu&gt;">sm@bossette.engr.sgi.com</A> (Sam Manthorpe)
</EM><BR>
<EM>&gt; cc: <A HREF="mailto:touch@ISI.EDU?Subject=Re:%20Nagle%20--%20again&In-Reply-To=&lt;199906242107.OAA16180@rum.isi.edu&gt;">touch@ISI.EDU</A> (Joe Touch), <A HREF="mailto:tcp-impl@grc.nasa.gov?Subject=Re:%20Nagle%20--%20again&In-Reply-To=&lt;199906242107.OAA16180@rum.isi.edu&gt;">tcp-impl@grc.nasa.gov</A>
</EM><BR>
<EM>&gt; Subject: Re: Nagle -- again 
</EM><BR>
<EM>&gt; Date: Thu, 24 Jun 1999 13:04:54 -0700
</EM><BR>
<EM>&gt; From: Greg Minshall &lt;<A HREF="mailto:minshall@siara.com?Subject=Re:%20Nagle%20--%20again&In-Reply-To=&lt;199906242107.OAA16180@rum.isi.edu&gt;">minshall@siara.com</A>&gt;
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; i've been *told* that Linux will let exactly one ACK live in the i/f output 
</EM><BR>
<EM>&gt; queue, updating it with new acknowledgments and window updates.  this can 
</EM><BR>
<EM>&gt; reduce the number of ACKs (though breaking the clock).
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; however, if your host is generating 52,000 *data* packets per second, i wonder 
</EM><BR>
<EM>&gt; if getting 26,000 ACKs per second *should* be a problem.  (i don't doubt that 
</EM><BR>
<EM>&gt; it *is* a problem, but *should* it be a problem?)
</EM><BR>
<P>It will always be more computation than processing less ACKs.
<BR>
However, it should be possible to have a network interface
<BR>
where incoming interrupts are suppressed for a time (maybe
<BR>
for all packets, maybe for solo ACKs, ???), such that the
<BR>
source scans the input as part of its packet output routine.
<BR>
<P>I.e., the normal 'inner loop' could be:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send a packet
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process an ACK
<BR>
<P>(or one every other, etc).
<BR>
<P>This would cut the number of input packet interrupts. 
<BR>
<P>I would claim that processing ACKs at this rate is part
<BR>
of the price of playing nice, allowing the source to 
<BR>
avoid bursts. If you want to negotiate around it for
<BR>
sources that can pace, that's even better. But the 
<BR>
default can be 'play nice'.
<BR>
<P>Joe
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="1761.html">Greg Minshall: "Re: Nagle -- again"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="1759.html">Joe Touch: "Re: Nagle -- again"</A>
<LI><STRONG>Maybe in reply to:</STRONG> <A HREF="1743.html">Greg Minshall: "Nagle -- again"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="1762.html">Joe Touch: "Re: Nagle -- again"</A>
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#1760">[ date ]</A>
<A HREF="index.html#1760">[ thread ]</A>
<A HREF="subject.html#1760">[ subject ]</A>
<A HREF="author.html#1760">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Tue Sep 19 2000 - 11:53:48 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
