<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: RE: Lost connection</TITLE>
<META NAME="Author" CONTENT="Tirumala, Srivathsa (Srivathsa) (srivathsa@lucent.com)">
<META NAME="Subject" CONTENT="RE: Lost connection">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>RE: Lost connection</H1>
<!-- received="Mon Apr  2 03:46:11 2001" -->
<!-- isoreceived="20010402074611" -->
<!-- sent="Mon, 2 Apr 2001 12:54:27 +0530 " -->
<!-- isosent="20010402072427" -->
<!-- name="Tirumala, Srivathsa (Srivathsa)" -->
<!-- email="srivathsa@lucent.com" -->
<!-- subject="RE: Lost connection" -->
<!-- id="B0BADCAFF5CDD211989700805F85E3F605433EA0@II0015EXCH001U" -->
<!-- inreplyto="Lost connection" -->
<STRONG>From:</STRONG> Tirumala, Srivathsa (Srivathsa) (<A HREF="mailto:srivathsa@lucent.com?Subject=RE:%20Lost%20connection&In-Reply-To=&lt;B0BADCAFF5CDD211989700805F85E3F605433EA0@II0015EXCH001U&gt;"><EM>srivathsa@lucent.com</EM></A>)<BR>
<STRONG>Date:</STRONG> Mon Apr 02 2001 - 03:24:27 EDT
<P>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2521.html">Andreas Pitsillides: "Call for participation -- Infocom 2001, April 22-26, 2001, Anchorage, Alaska"</A>
<UL>
<LI><STRONG>Previous message:</STRONG> <A HREF="2519.html">M B: "Re: Lost connection"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2520">[ date ]</A>
<A HREF="index.html#2520">[ thread ]</A>
<A HREF="subject.html#2520">[ subject ]</A>
<A HREF="author.html#2520">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
<EM>&gt; 
</EM><BR>
<EM>&gt; Jon,
</EM><BR>
<EM>&gt; You're right. There is a Check Point firewall between LAN2 and LAN3.
</EM><BR>
<EM>&gt; And it translates all IPs coming from LAN1 and LAN2. As you said,
</EM><BR>
<EM>&gt; that would explain why a connection gets dropped after being idle
</EM><BR>
<EM>&gt; for 2 hours or so.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; LAN1....T1.....LAN2-FW-......FR.....LAN3
</EM><BR>
<P>&nbsp;&nbsp;From your examples, its not clear that the control connection is the one
<BR>
that's being closed. Your example 2  shows that after one file xfer fails,
<BR>
you still send a TYPE command on the control connection.. and this is
<BR>
accepted by the server!!  So the control connection is still up.    And
<BR>
obviously,  the data connection is not idle.
<BR>
<P><EM>&gt; 
</EM><BR>
<EM>&gt; But why would an FTP transfer go idle if it's coming from LAN1, while
</EM><BR>
<EM>&gt; FTP transfers from LAN2 finish normally? More info:
</EM><BR>
<EM>&gt; . LAN1 and LAN2 don't have any firewall between them.
</EM><BR>
<EM>&gt; . The problem started to occur only after the NT machine was moved
</EM><BR>
<EM>&gt;   from LAN2 to LAN1.
</EM><BR>
<P>&nbsp;&nbsp;I guess LAN2 to LAN3 transfers take less than 2 hours.
<BR>
<P>Bye
<BR>
Srivathsa
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2521.html">Andreas Pitsillides: "Call for participation -- Infocom 2001, April 22-26, 2001, Anchorage, Alaska"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2519.html">M B: "Re: Lost connection"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2520">[ date ]</A>
<A HREF="index.html#2520">[ thread ]</A>
<A HREF="subject.html#2520">[ subject ]</A>
<A HREF="author.html#2520">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Mon Apr 02 2001 - 03:46:44 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
