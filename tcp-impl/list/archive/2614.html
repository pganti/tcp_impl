<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>TCP-IMPL Mailing List Archive: Re: TCP receiver and Duplicate p</TITLE>
<META NAME="Author" CONTENT="Philippe Ragon (pragon@mangoosta.fr)">
<META NAME="Subject" CONTENT="Re: TCP receiver and Duplicate packets">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>Re: TCP receiver and Duplicate packets</H1>
<!-- received="Thu Feb 28 15:41:39 2002" -->
<!-- isoreceived="20020228204139" -->
<!-- sent="Thu, 28 Feb 2002 21:07:03 +0100" -->
<!-- isosent="20020228200703" -->
<!-- name="Philippe Ragon" -->
<!-- email="pragon@mangoosta.fr" -->
<!-- subject="Re: TCP receiver and Duplicate packets" -->
<!-- id="4.3.2.7.2.20020228202602.00cb30a8@pop.free.fr" -->
<!-- inreplyto="Pine.SOL.4.10.10202281517420.13556-100000@bella" -->
<STRONG>From:</STRONG> Philippe Ragon (<A HREF="mailto:pragon@mangoosta.fr?Subject=Re:%20TCP%20receiver%20and%20Duplicate%20packets&In-Reply-To=&lt;4.3.2.7.2.20020228202602.00cb30a8@pop.free.fr&gt;"><EM>pragon@mangoosta.fr</EM></A>)<BR>
<STRONG>Date:</STRONG> Thu Feb 28 2002 - 15:07:03 EST
<P>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2615.html">Cheng Jack-QA3581: "Limiting the size of incoming/outgoing TCP packets"</A>
<UL>
<LI><STRONG>Previous message:</STRONG> <A HREF="2613.html">Ronny Tittoto: "TCP receiver and Duplicate packets"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="2613.html">Ronny Tittoto: "TCP receiver and Duplicate packets"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2614">[ date ]</A>
<A HREF="index.html#2614">[ thread ]</A>
<A HREF="subject.html#2614">[ subject ]</A>
<A HREF="author.html#2614">[ author ]</A>
</UL>
<HR NOSHADE><P>
<!-- body="start" -->
<P>
Ronny,
<BR>
<P>Sending a duplicate ACK in the case you are describing, is the specified 
<BR>
behavior in TCP.
<BR>
Imagine for example that all the ACKs generated by packets 35 to 40 have 
<BR>
been lost, without the duplicate ACK, the sender would keep sending ACK 35 
<BR>
until it decides that the connection is lost.
<BR>
In your case (and I know it from experience in the same context) the 
<BR>
repetition of packet 35 have probably been triggered not because ACKs have 
<BR>
been lost, but because they arrived too late.
<BR>
Without any additional information, such has the one conveyed by D-SACK 
<BR>
(refer to RFC 2883), there is no way for the source to infer from this 
<BR>
duplicate ACK that it has wrongly repeated packet 35 and undo what it has 
<BR>
done (return to slow start, ssthresh lowering, ...) when it has thought 
<BR>
that this packet was lost due to network congestion.
<BR>
<P>Quick and reliable detection of spurious re-transmission is an important 
<BR>
feature in the GPRS context in order not to degrade performance. Such a 
<BR>
subject should be advanced quickly in relevant IETF work group.
<BR>
<P>I hope that people will not infer from my reference to D-SACK that I 
<BR>
consider it as the final say in term of spurious retransmission detection, 
<BR>
and as a consequence, that I disregard the Eiffel algorithm that is 
<BR>
currently under specification study in the 'tswg' work group.
<BR>
<P>Cheers,
<BR>
Philippe Ragon
<BR>
<P>At 15:27 28/02/2002 +0100, Ronny Tittoto wrote:
<BR>
<EM>&gt;Dear all,
</EM><BR>
<EM>&gt;I'm working on TCP performances over GPRS and UMTS networks.
</EM><BR>
<EM>&gt;I've observed a singular behaviour of TCP receiver in presence of
</EM><BR>
<EM>&gt;duplicate packets.
</EM><BR>
<EM>&gt;When a receiver receives a packet with sequence number equal to a packet
</EM><BR>
<EM>&gt;received before it reply with a duplicate ack.
</EM><BR>
<EM>&gt;For example:
</EM><BR>
<EM>&gt;- suppose the reciever has already received packets 1 to 40
</EM><BR>
<EM>&gt;- a packet with sequence number 35 arrives
</EM><BR>
<EM>&gt;- the receiver doesn't need this packet, it has already received it!
</EM><BR>
<EM>&gt;- the receiver reply with a multiple ack requesting packet 41.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;My question is:
</EM><BR>
<EM>&gt;Why does the receiver replay when it receives an old packet already
</EM><BR>
<EM>&gt;received?
</EM><BR>
<EM>&gt;Is it an implementation need or a simplification?
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;Thanks a lot!
</EM><BR>
<EM>&gt;Best regards
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;Ronny
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;._____________________________________________________________________.
</EM><BR>
<EM>&gt;|Ronny Tittoto 380560/IL  <A HREF="mailto:barret@dei.unipd.it?Subject=Re:%20TCP%20receiver%20and%20Duplicate%20packets&In-Reply-To=&lt;4.3.2.7.2.20020228202602.00cb30a8@pop.free.fr&gt;">barret@dei.unipd.it</A>                         |
</EM><BR>
<EM>&gt;|                         <A HREF="mailto:ronny@chiara.dei.unipd.it?Subject=Re:%20TCP%20receiver%20and%20Duplicate%20packets&In-Reply-To=&lt;4.3.2.7.2.20020228202602.00cb30a8@pop.free.fr&gt;">ronny@chiara.dei.unipd.it</A>                   |
</EM><BR>
<EM>&gt;|---------------------------------------------------------------------|
</EM><BR>
<EM>&gt;|                                                                     |
</EM><BR>
<EM>&gt;|_____________________________________________________________________|
</EM><BR>
<EM>&gt;
</EM><BR>
<P>---------------------------------------------------------------------
<BR>
Philippe Ragon / Tour Atlas / 10, villa d'Este/ 75013 Paris/ FRANCE
<BR>
Telephone &amp; Fax    : (33) 01 45 70 79 53
<BR>
E-mail                   :   <A HREF="mailto:pragon@mangoosta.fr?Subject=Re:%20TCP%20receiver%20and%20Duplicate%20packets&In-Reply-To=&lt;4.3.2.7.2.20020228202602.00cb30a8@pop.free.fr&gt;">pragon@mangoosta.fr</A>
<BR>
---------------------------------------------------------------------
<BR>
<P><!-- body="end" -->
<HR NOSHADE>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="2615.html">Cheng Jack-QA3581: "Limiting the size of incoming/outgoing TCP packets"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="2613.html">Ronny Tittoto: "TCP receiver and Duplicate packets"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="2613.html">Ronny Tittoto: "TCP receiver and Duplicate packets"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#2614">[ date ]</A>
<A HREF="index.html#2614">[ thread ]</A>
<A HREF="subject.html#2614">[ subject ]</A>
<A HREF="author.html#2614">[ author ]</A>
</UL>
<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Thu Feb 28 2002 - 15:41:46 EST</EM>
</EM>
</SMALL>
</BODY>
</HTML>
